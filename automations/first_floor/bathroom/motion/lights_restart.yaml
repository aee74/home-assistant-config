- alias            : bathroom_lights_restart
  id               : 62424087-dbe4-43ef-913b-e8f8f64aa0dd
  trigger:
    # Restart timer on any state change of motion sensor
    - platform     : state
      entity_id    : binary_sensor.bathroom_motionsensor_occupancy
  condition:
    condition      : not
    conditions:
      - condition  : state
        entity_id  : timer.bathroom_light_timeout
        state      : 'idle'
  action:
    - service      : light.turn_on
      entity_id    : light.bathroom_lights
    - service      : timer.start    # this restarts the timer if it is already running
      entity_id    : timer.bathroom_light_timeout

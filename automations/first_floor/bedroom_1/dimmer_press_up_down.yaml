- alias              : bedroom1_dimmer_press_up_down
  id                 : 58d0ca45-3bb6-4f9e-9876-80a2bc5334f8
  trigger:
    - platform       : state
      entity_id      : sensor.hueremote_damiansroom_action
      to             : 'up-press'
    - platform       : state
      entity_id      : sensor.hueremote_damiansroom_action
      to             : 'down-press'
  action:
    - service        : light.turn_on
      data_template:
        entity_id  : light.huebulb_damiansroom_light
        brightness : >-
          {% if trigger.to_state.attributes.brightness is none %}
            255
          {% elif (trigger.to_state.attributes.brightness < 6) %}
            5
          {% elif (trigger.to_state.attributes.brightness > 249) %}
            255
          {% else %}
            {{ trigger.to_state.attributes.brightness }}
          {% endif %}
    - service        : light.turn_on
      data_template:
        entity_id  : light.ikeabulb_damiansroom_light
        brightness : >-
          {% if trigger.to_state.attributes.brightness is none %}
            255
          {% elif (trigger.to_state.attributes.brightness < 6) %}
            5
          {% elif (trigger.to_state.attributes.brightness > 249) %}
            255
          {% else %}
            {{ trigger.to_state.attributes.brightness }}
          {% endif %}
# DEBUG
#    - service        : notify.stefan
#      data_template:
#        message      : "Action: {{trigger.to_state.attributes.action}}, Brightness: {{trigger.to_state.attributes.brightness}}, Bulb: {{states.light.huebulb_damiansroom_light.attributes.brightness}}, Count: {{trigger.to_state.attributes.counter}}"

